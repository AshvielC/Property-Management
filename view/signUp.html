<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Staff Sign Up</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
     background-color: #f9faf7;
     display: flex;
     justify-content: center;
     align-items: center;
     height: 100vh;
     margin: 0; /* Remove default margin */
    overflow: hidden;
 }

        .signup-container {
            background-color: #4f4e4d;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 600px;
            overflow: auto; 
           max-height: 90vh;
        }

        .signup-container h2 {
            margin-bottom: 30px;
            text-align: center;
            font-size: 2rem;
            color: #eb6654;
        }

        .form-control {
            border-radius: 8px;
            padding: 10px 15px;
        }

        .form-control:focus {
            box-shadow: none;
            border-color: #007bff;
        }

        .btn-danger {
            width: 100%;
            padding: 10px;
            font-size: 1.1rem;
            border-radius: 8px;
        }
        label{
        color:#eb6654;
        }
        
    </style>
</head>
<body>

    <div class="signup-container">
        <h2>Staff Registration</h2>
        <form id="staffReg" enctype="multipart/form-data" action="POST">
            <div class="mb-3">
                <label for="firstName" class="form-label">First Name</label>
                <input type="text"  name="firstName"class="form-control" id="firstName" required>
            </div>
            <div class="mb-3">
                <label for="lastName" class="form-label">Last Name</label>
                <input type="text"  name="lastName"class="form-control" id="lastName" required>
            </div>
            <div class="mb-3">
                <label for="employmentId" class="form-label">Employment ID</label>
                <input type="text" name="employmentId"class="form-control" id="employmentId" required>
            </div>
            <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <input type="text"  name="address"class="form-control" id="address" required>
            </div>
            <div class="mb-3">
                <label for="phone" class="form-label">Phone Number</label>
                <input type="tel" name="phone"class="form-control" id="phone" pattern="[0-9]{7}" required>
                
            </div>
            <div class="mb-3">
                <label for="designation" class="form-label">Designation</label>
                <input type="text" name="designation" class="form-control" id="designation" required>
            </div>
            <div class="mb-3">
                <label for="startDate" class="form-label">Employment Start Date</label>
                <input type="date" name="startDate"class="form-control" id="startDate" required>
            </div>
            
       
            <div class="mb-3">
                <label for="fnfp" class="form-label">FNFP Number</label>
                <input type="text" name="fnpf" class="form-control" id="fnfp" required>
            </div>
            <div class="mb-3">
                <label for="tin" class="form-label">TIN No</label>
                <input type="text" name="tin" class="form-control" id="tin" required>
            </div>
            <div class="mb-3">
            <label for="staffPassword" class="form-label">Password:</label>
            <input type="password" id="staffPassword" name="staffPassword" class="form-control" required>
            </div>
            <div class="mb-3">
                <label for="profilePic" class="form-label">Upload Profile Picture</label>
                <input type="file" class="form-control" id="profilePic" name="profilePic" accept="image/*" required>
            </div>
       <button type="submit" class="btn btn-danger mt-4">Sign Up</button>
        </form>
    </div>
    <script>
 document.getElementById('staffReg').addEventListener('submit', async function (event) {
    event.preventDefault();
    //console.log('Staff registration form submitted');

    const formData = new FormData(this);
     console.log('Staff form data:', [...formData.entries()]);
     
    
    // Automatically fetch user location
    try {

        const response = await fetch('/staff/register', {
            method: 'POST',
            body: formData
        });
        
        if (response.ok) {
            const result = await response.json();
            console.log('Staff registration successful:', result);
            alert(result.message);

            window.location = './signIn.html';
        } else {
            const error = await response.json();
            console.error('Staff registration failed:', error);
            
            alert('Staff registration failed: ' + (error.message || 'Unknown error'));
        }
    } catch (error) {
        
        alert('Staff registration failed: ' + error);
    }
});

    
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
